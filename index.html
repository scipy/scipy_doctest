<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Implementation" href="implementation.html" />

    <!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>scipy_doctest documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="#"><div class="brand">scipy_doctest  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="#">
  
  
  <span class="sidebar-brand-text">scipy_doctest  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Home</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="implementation.html">Implementation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Implementation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="generated/scipy_doctest.impl.DTConfig.html">scipy_doctest.impl.DTConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="generated/scipy_doctest.impl.DTChecker.html">scipy_doctest.impl.DTChecker</a></li>
<li class="toctree-l2"><a class="reference internal" href="generated/scipy_doctest.impl.DTRunner.html">scipy_doctest.impl.DTRunner</a></li>
<li class="toctree-l2"><a class="reference internal" href="generated/scipy_doctest.impl.DebugDTRunner.html">scipy_doctest.impl.DebugDTRunner</a></li>
<li class="toctree-l2"><a class="reference internal" href="generated/scipy_doctest.impl.DTFinder.html">scipy_doctest.impl.DTFinder</a></li>
<li class="toctree-l2"><a class="reference internal" href="generated/scipy_doctest.impl.DTParser.html">scipy_doctest.impl.DTParser</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="plugin.html">Plugin</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Plugin</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="generated/scipy_doctest.plugin.DTModule.html">scipy_doctest.plugin.DTModule</a></li>
<li class="toctree-l2"><a class="reference internal" href="generated/scipy_doctest.plugin.DTTextfile.html">scipy_doctest.plugin.DTTextfile</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/scipy/scipy_doctest/blob/main/docs/index.md?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/scipy/scipy_doctest/edit/main/docs/index.md" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="floating-point-aware-human-readable-numpy-compatible-doctesting">
<h1>Floating-point aware, human readable, numpy-compatible doctesting.<a class="headerlink" href="#floating-point-aware-human-readable-numpy-compatible-doctesting" title="Link to this heading">¶</a></h1>
<p><a class="reference external" href="https://pypi.org/project/scipy-doctest/"><img alt="PyPI version" src="https://img.shields.io/pypi/v/scipy-doctest" /></a>
<a class="reference external" href="https://anaconda.org/conda-forge/scipy-doctest"><img alt="Conda-Forge" src="https://img.shields.io/conda/vn/conda-forge/scipy-doctest" /></a></p>
<!-- prettier-ignore-start -->
<!-- prettier-ignore-end -->
<section id="tl-dr">
<h2>TL;DR<a class="headerlink" href="#tl-dr" title="Link to this heading">¶</a></h2>
<p>This project extends the standard library <code class="docutils literal notranslate"><span class="pre">doctest</span></code> module to allow flexibility
and easy customization of finding, parsing and checking code examples in
documentation.</p>
<p>Can be used either as drop-in <code class="docutils literal notranslate"><span class="pre">doctest</span></code> replacement or through the <code class="docutils literal notranslate"><span class="pre">pytest</span></code>
integration. Uses a floating-point aware doctest checker by default.</p>
</section>
<section id="motivation-and-scope">
<h2>Motivation and scope<a class="headerlink" href="#motivation-and-scope" title="Link to this heading">¶</a></h2>
<p>Having examples in the documentation is great. Having wrong examples in the
documentation is not that great however.</p>
<p>The standard library <code class="docutils literal notranslate"><span class="pre">doctest</span></code> module is great for making sure that docstring
examples are correct. However, the <code class="docutils literal notranslate"><span class="pre">doctest</span></code> module is limited in several
respects. Consider:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="o">/</span><span class="mi">3</span><span class="p">])</span>   <span class="c1"># doctest: +SKIP</span>
 <span class="n">array</span><span class="p">([</span><span class="mf">0.333</span><span class="p">,</span> <span class="mf">0.669</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>This looks reasonably clear but does not work, in three different ways.
<em>First</em>, <code class="docutils literal notranslate"><span class="pre">1/3</span></code> is not equal to 0.333 because floating-point arithmetic.
<em>Second</em>, <code class="docutils literal notranslate"><span class="pre">numpy</span></code> adds whitespace to its output, this whitespace confuses the
<code class="docutils literal notranslate"><span class="pre">doctest</span></code>, which is whitespace-sensitive. Therefore, we added a magic directive,
<code class="docutils literal notranslate"><span class="pre">+SKIP</span></code> to avoid a doctest error. <em>Third</em>, the example is actually
wrong—notice <code class="docutils literal notranslate"><span class="pre">0.669</span></code> which is not equal to <code class="docutils literal notranslate"><span class="pre">2/3</span></code> to three sig figs. The error
went unnoticed by the doctester also because of the <code class="docutils literal notranslate"><span class="pre">+SKIP</span></code> directive.</p>
<p>We believe these <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">doctest:</span> <span class="pre">+SKIP</span></code> directives do not add any value to
a human reader, and should not be present in the documentation.</p>
<p>This package defines modified doctesting routines which fix these deficiencies.
Its main features are</p>
<ul>
<li><p><em>Doctesting is floating-point aware.</em> In a nutshell, the core check is
<code class="docutils literal notranslate"><span class="pre">np.allclose(want,</span> <span class="pre">got,</span> <span class="pre">atol=...,</span> <span class="pre">rtol=...)</span></code>, with user-controllable abs
and relative tolerances. In the example above (<em>sans</em> <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">doctest:</span> <span class="pre">+SKIP</span></code>),
<code class="docutils literal notranslate"><span class="pre">want</span></code> is the desired output, <code class="docutils literal notranslate"><span class="pre">array([0.333,</span> <span class="pre">0.669,</span> <span class="pre">1])</span></code> and <code class="docutils literal notranslate"><span class="pre">got</span></code> is the
actual output from numpy: <code class="docutils literal notranslate"><span class="pre">array([0.33333333,</span> <span class="pre">0.66666667,</span> <span class="pre">1.</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">])</span></code>.</p></li>
<li><p><em>Human-readable skip markers.</em> Consider</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">42     # may vary</span>
</pre></div>
</div>
<p>Note that the markers (by default, <code class="docutils literal notranslate"><span class="pre">&quot;#</span> <span class="pre">may</span> <span class="pre">vary&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;#</span> <span class="pre">random&quot;</span></code>) can be applied
to either an example’s output, or its source.</p>
</li>
</ul>
<p>Also note a difference with respect to the standard <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">doctest:</span> <span class="pre">+SKIP</span></code>: the latter
skips the example entirely, while these additional markers only skip checking
the output. Thus the example source needs to be valid python code still.</p>
<ul class="simple">
<li><p>A user-configurable list of <em>stopwords</em>. If an example contains a stopword,
it is checked to be valid python, but the output is not checked. This can
be useful e.g. for not littering the documentation with the output of
<code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">matplotlib.pyplot</span> <span class="pre">as</span> <span class="pre">plt;</span> <span class="pre">plt.xlim([2.3,</span> <span class="pre">4.5])</span></code>.</p></li>
<li><p>A user-configurable list of <em>pseudocode</em> markers. If an example contains one
of these markers, it is considered pseudocode and is not checked.
This is useful for <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">example</span> <span class="pre">import</span> <span class="pre">some_functions</span></code> and similar stanzas.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">doctest:</span> <span class="pre">+SKIPBLOCK</span></code> option flag to skip whole blocks of pseudocode. Here
a ‘block’ is a sequence of doctest examples without any intervening text.</p></li>
<li><p><em>Doctest discovery</em> is somewhat more flexible then the standard library
<code class="docutils literal notranslate"><span class="pre">doctest</span></code> module. Specifically, one can use <code class="docutils literal notranslate"><span class="pre">testmod(module,</span> <span class="pre">strategy='api')</span></code>
to only examine public objects of a module. This is helpful for complex
packages, with non-trivial internal file structure. Alternatively, the default
value of <code class="docutils literal notranslate"><span class="pre">strategy=None</span></code> is equivalent to the standard <code class="docutils literal notranslate"><span class="pre">doctest</span></code> module
behavior.</p></li>
<li><p><em>User configuration</em>. Essentially all aspects of the behavior are user
configurable via a <code class="docutils literal notranslate"><span class="pre">DTConfig</span></code> instance attributes. See the <code class="docutils literal notranslate"><span class="pre">DTConfig</span></code>
docstring for details.</p></li>
</ul>
</section>
<section id="install-and-test">
<h2>Install and test<a class="headerlink" href="#install-and-test" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install scipy-doctest
$ pytest --pyargs scipy_doctest
</pre></div>
</div>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<p>The API of the package has two layers: the basic layer follows the API of the
standard library <code class="docutils literal notranslate"><span class="pre">doctest</span></code> module, and we strive to provide drop-in replacements,
or nearly so.</p>
<p>The other layer is the <code class="docutils literal notranslate"><span class="pre">pytest</span></code> plugin.</p>
<section id="run-doctests-via-pytest">
<h3>Run doctests via pytest<a class="headerlink" href="#run-doctests-via-pytest" title="Link to this heading">¶</a></h3>
<p>To run doctests on your package or project, follow these steps:</p>
<ol class="arabic simple">
<li><p><strong>Install the plugin</strong></p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>scipy-doctest
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>Register or load the plugin</strong></p></li>
</ol>
<p>Next, you need to register or load the pytest plugin within your test module or <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> file.</p>
<p>To do this, add the following line of code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># In your conftest.py file or test module</span>

<span class="n">pytest_plugins</span> <span class="o">=</span> <span class="s2">&quot;scipy_doctest&quot;</span>
</pre></div>
</div>
<p>Check out the <a class="reference external" href="https://docs.pytest.org/en/stable/how-to/writing_plugins.html#requiring-loading-plugins-in-a-test-module-or-conftest-file">pytest documentation</a> for more information on requiring/loading plugins in a test module or <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> file.</p>
<ol class="arabic simple" start="3">
<li><p><strong>Run doctests</strong></p></li>
</ol>
<p>Once the plugin is registered, run the doctests by executing the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>pytest<span class="w"> </span>--doctest-modules
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pytest<span class="w"> </span>--pyargs<span class="w"> </span>&lt;your-package&gt;<span class="w"> </span>--doctest-modules
</pre></div>
</div>
<p>By default, all doctests are collected. To only collect public objects, <code class="docutils literal notranslate"><span class="pre">strategy=&quot;api&quot;</span></code>,
use the command flag</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pytest<span class="w"> </span>--pyargs<span class="w"> </span>&lt;your-package&gt;<span class="w"> </span>--doctest-modules<span class="w"> </span>--doctest-collect<span class="o">=</span>api
</pre></div>
</div>
<p>See <a class="reference internal" href="#more-fine-grained-control">More fine-grained control</a> section
for details on how to customize the behavior.</p>
<p>**NOTE ** Currently, <code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">--doctest-modules</span></code> only collects doctests and skips
‘regular’ unit tests. This differs from the vanilla <code class="docutils literal notranslate"><span class="pre">pytest</span></code> behavior, which collects
both doctests and unit tests.
The behavior will change in a future version: <code class="docutils literal notranslate"><span class="pre">scipy-doctest==2.0</span></code> <strong>will change the
default</strong> to align with the vanilla <code class="docutils literal notranslate"><span class="pre">pytest</span></code>.</p>
<p>To retain the current behavior, use the <code class="docutils literal notranslate"><span class="pre">--doctest-only-doctests</span></code> CLI option:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest --doctest-modules --doctest-only-doctests
</pre></div>
</div>
<p>is unambiguous and will behave identically in the current version 1.8 and upcoming
versions of <code class="docutils literal notranslate"><span class="pre">scipy-doctest</span></code>.</p>
</section>
<section id="basic-usage">
<h3>Basic usage<a class="headerlink" href="#basic-usage" title="Link to this heading">¶</a></h3>
<p>The use of <code class="docutils literal notranslate"><span class="pre">pytest</span></code> is optional, and you can use the <code class="docutils literal notranslate"><span class="pre">doctest</span></code> layer API.
For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy</span><span class="w"> </span><span class="kn">import</span> <span class="n">linalg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy_doctest</span><span class="w"> </span><span class="kn">import</span> <span class="n">testmod</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="p">,</span> <span class="n">hist</span> <span class="o">=</span> <span class="n">testmod</span><span class="p">(</span><span class="n">linalg</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;api&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span>
<span class="go">TestResults(failed=0, attempted=764)</span>
</pre></div>
</div>
<p>The second return value, <code class="docutils literal notranslate"><span class="pre">hist</span></code> is a dict which maps the names of the objects
to the numbers of failures and attempts for individual examples.</p>
<p>For more details, see the <code class="docutils literal notranslate"><span class="pre">testmod</span></code> docstring. Other useful functions are
<code class="docutils literal notranslate"><span class="pre">find_doctests</span></code>, <code class="docutils literal notranslate"><span class="pre">run_docstring_examples</span></code> and <code class="docutils literal notranslate"><span class="pre">testfile</span></code> (the latter two mimic
the behavior of the eponymous functions of the <code class="docutils literal notranslate"><span class="pre">doctest</span></code> module).</p>
</section>
<section id="command-line-interface">
<h3>Command-line interface<a class="headerlink" href="#command-line-interface" title="Link to this heading">¶</a></h3>
<p>There is a basic CLI, which also mimics that of the <code class="docutils literal notranslate"><span class="pre">doctest</span></code> module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -m scipy_doctest foo.py
</pre></div>
</div>
<p>Note that, just like <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">python</span> <span class="pre">-m</span> <span class="pre">doctest</span> <span class="pre">foo.py</span></code>, this may
fail if <code class="docutils literal notranslate"><span class="pre">foo.py</span></code> is a part of a package due to package imports.</p>
<p>Text files can also be CLI-checked:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -m scipy_doctest bar.rst
</pre></div>
</div>
<p>Notice that the command-line usage only uses the default <code class="docutils literal notranslate"><span class="pre">DTConfig</span></code> settings.</p>
</section>
</section>
<section id="more-fine-grained-control">
<span id="id1"></span><h2>More fine-grained control<a class="headerlink" href="#more-fine-grained-control" title="Link to this heading">¶</a></h2>
<p>More fine-grained control of the functionality is available via the following
classes</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Class</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">doctest</span></code> analog</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DTChecker</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DocTestChecker</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DTParser</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DocTestParser</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DTRunner</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DocTestRunner</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DTFinder</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DocTestFinder</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DTContext</span></code></p></td>
<td><p>–</p></td>
</tr>
</tbody>
</table>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">DTContext</span></code> class is just a bag class which holds various configuration
settings as attributes. An instance of this class is passed around, so user
configuration is simply creating an instance, overriding an attribute and
passing the instance to <code class="docutils literal notranslate"><span class="pre">testmod</span></code> or constructors of <code class="docutils literal notranslate"><span class="pre">DT*</span></code> objects. Defaults
are provided, based on a long-term usage in SciPy.</p>
<p>See the <a class="reference external" href="https://github.com/scipy/scipy_doctest/blob/main/scipy_doctest/impl.py#L24">DTConfig docstring</a>
for the full set of attributes that allow you to fine-tune your doctesting experience.</p>
<p>To set any of these attributes, create an instance of <code class="docutils literal notranslate"><span class="pre">DTConfig</span></code> and assign the attributes
in a usual way.</p>
<p>If using the pytest plugin, it is convenient to use the default instance, which
is predefined in <code class="docutils literal notranslate"><span class="pre">scipy_doctest/conftest.py</span></code>. This instance will be automatically
passed around via an
<a class="reference external" href="https://github.com/scipy/scipy_doctest/blob/58ff06a837b7bff1dbac6560013fc6fd07952ae2/scipy_doctest/plugin.py#L39">attribute of pytest’s <code class="docutils literal notranslate"><span class="pre">Config</span></code> object</a>.</p>
<section id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dt_config</span> <span class="o">=</span> <span class="n">DTConfig</span><span class="p">()</span>
</pre></div>
</div>
<p>or, if using pytest,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy_doctest.conftest</span><span class="w"> </span><span class="kn">import</span> <span class="n">dt_config</span>   <span class="c1"># a DTConfig instance with default settings</span>
</pre></div>
</div>
<p>and then</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dt_config</span><span class="o">.</span><span class="n">rndm_markers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;# unintialized&#39;</span><span class="p">}</span>

<span class="n">dt_config</span><span class="o">.</span><span class="n">stopwords</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;plt.&#39;</span><span class="p">,</span> <span class="s1">&#39;plt.hist&#39;</span><span class="p">,</span> <span class="s1">&#39;plt.show&#39;</span><span class="p">}</span>

<span class="n">dt_config</span><span class="o">.</span><span class="n">local_resources</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;scipy_doctest.tests.local_file_cases.local_files&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;scipy_doctest/tests/local_file.txt&#39;</span><span class="p">],</span>
    <span class="s1">&#39;scipy_doctest.tests.local_file_cases.sio&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;scipy_doctest/tests/octave_a.mat&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">dt_config</span><span class="o">.</span><span class="n">skiplist</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;scipy.special.sinc&#39;</span><span class="p">,</span>
    <span class="s1">&#39;scipy.misc.who&#39;</span><span class="p">,</span>
    <span class="s1">&#39;scipy.optimize.show_options&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you don’t set these attributes, the <a class="reference external" href="https://github.com/scipy/scipy_doctest/blob/58ff06a837b7bff1dbac6560013fc6fd07952ae2/scipy_doctest/impl.py#L94">default settings</a> of the attributes are used.</p>
<section id="alternative-checkers">
<h4>Alternative Checkers<a class="headerlink" href="#alternative-checkers" title="Link to this heading">¶</a></h4>
<p>By default, we use the floating-point aware <code class="docutils literal notranslate"><span class="pre">DTChecker</span></code>. If you want to use an
alternative checker, all you need to do is to define the corresponding class,
and add an attribute to the <code class="docutils literal notranslate"><span class="pre">DTConfig</span></code> instance. For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">VanillaOutputChecker</span><span class="p">(</span><span class="n">doctest</span><span class="o">.</span><span class="n">OutputChecker</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;doctest.OutputChecker to drop in for DTChecker.</span>

<span class="sd">    LSP break: OutputChecker does not have __init__,</span>
<span class="sd">    here we add it to agree with DTChecker.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dt_config</span> <span class="o">=</span> <span class="n">DTConfig</span><span class="p">()</span>
<span class="n">dt_config</span><span class="o">.</span><span class="n">CheckerKlass</span> <span class="o">=</span> <span class="n">VanillaOutputChecker</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://github.com/scipy/scipy_doctest/blob/main/scipy_doctest/tests/test_pytest_configuration.py#L63">a pytest example</a>
and <a class="reference external" href="https://github.com/scipy/scipy_doctest/blob/main/scipy_doctest/tests/test_runner.py#L94">a doctest example</a>
for more details.</p>
</section>
</section>
<section id="numpy-and-scipy-wrappers">
<h3>NumPy and SciPy wrappers<a class="headerlink" href="#numpy-and-scipy-wrappers" title="Link to this heading">¶</a></h3>
<p>NumPy wraps <code class="docutils literal notranslate"><span class="pre">scipy-doctest</span></code> with the <code class="docutils literal notranslate"><span class="pre">spin</span></code> command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ spin check-docs
</pre></div>
</div>
<p>In SciPy, the name of the <code class="docutils literal notranslate"><span class="pre">spin</span></code> command is <code class="docutils literal notranslate"><span class="pre">smoke-docs</span></code>::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ spin smoke-docs    # check docstrings
$ spin smoke-tutorials   # ReST user guide tutorials
</pre></div>
</div>
</section>
</section>
<section id="rough-edges-and-sharp-bits">
<h2>Rough edges and sharp bits<a class="headerlink" href="#rough-edges-and-sharp-bits" title="Link to this heading">¶</a></h2>
<p>Here is a (non-exhaustive) list of possible gotchas:</p>
<ul class="simple">
<li><p><em>In-place development builds</em>.</p></li>
</ul>
<p>Some tools (looking at you <code class="docutils literal notranslate"><span class="pre">meson-python</span></code>) simulate in-place builds with a
<code class="docutils literal notranslate"><span class="pre">build-install</span></code> directory. If this directory is located under the project root,
<code class="docutils literal notranslate"><span class="pre">pytest</span></code> is getting confused by duplicated items under the root and build-install
folders.</p>
<p>The solution is to make pytest only look into the <code class="docutils literal notranslate"><span class="pre">build-install</span></code> directory
(the specific path to <code class="docutils literal notranslate"><span class="pre">build-install</span></code> may vary):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest build-install/lib/python3.10/site-packages/scipy/ --doctest-modules
</pre></div>
</div>
<p>instead of <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">pytest</span> <span class="pre">--pyargs</span> <span class="pre">scipy</span></code>.</p>
<p>If you use actual editable installs, of the <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--no-build-isolation</span> <span class="pre">-e</span> <span class="pre">.</span></code> variety, you may
need to add <code class="docutils literal notranslate"><span class="pre">--import-mode=importlib</span></code> to the <code class="docutils literal notranslate"><span class="pre">pytest</span></code> invocation.</p>
<p>If push really comes to shove, you may try using the magic env variable:
<code class="docutils literal notranslate"> <span class="pre">PY_IGNORE_IMPORTMISMATCH=1</span> <span class="pre">pytest</span> <span class="pre">...</span></code>,
however the need usually indicates an issue with the package itself.
(see <a class="reference external" href="https://github.com/scipy/scipy_doctest/pull/107">gh-107</a> for an example).</p>
<ul class="simple">
<li><p><em>Optional dependencies are not that optional</em></p></li>
</ul>
<p>If your package contains optional dependencies, doctests do not know about them
being optional. So you either guard the imports in doctests (yikes!), or
the collections fails if dependencies are not available.</p>
<p>The solution is to explicitly <code class="docutils literal notranslate"><span class="pre">--ignore</span></code> the paths to modules with optionals.
(or, equivalently, use <code class="docutils literal notranslate"><span class="pre">DTConfig.pytest_extra_ignore</span></code> list):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest --ignore=/build-install/lib/scipy/python3.10/site-packages/scipy/_lib ...
</pre></div>
</div>
<p>Note that installed packages are no different:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest --pyargs scipy --doctest-modules --ignore=/path/to/installed/scipy/_lib
</pre></div>
</div>
<ul class="simple">
<li><p><em>Doctest collection strategies</em></p></li>
</ul>
<p>The default collection strategy follows <code class="docutils literal notranslate"><span class="pre">doctest</span></code> module and <code class="docutils literal notranslate"><span class="pre">pytest</span></code>. This leads
to duplicates if your package has the split between public and _private modules,
where public modules re-export things from private ones. The solution is to
use <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">pytest</span> <span class="pre">--doctest-collect=api</span></code> CLI switch: with this, only public
objects will be collected.</p>
<p>The decision on what is public is as follows: an object is public iff</p>
<ul class="simple">
<li><p>it is included into the <code class="docutils literal notranslate"><span class="pre">__all__</span></code> list of a public module;</p></li>
<li><p>the name of the object does not have a leading underscore;</p></li>
<li><p>the name of the module from which the object is collected does not have
a leading underscore.</p></li>
</ul>
<p>Consider an example: <code class="docutils literal notranslate"><span class="pre">scipy.linalg.det</span></code> is defined in <code class="docutils literal notranslate"><span class="pre">scipy/linalg/_basic.py</span></code>,
so it is collected twice, from <code class="docutils literal notranslate"><span class="pre">_basic.py</span></code> and from <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code>. The rule above
leads to</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">scipy.linalg._basic.det</span></code>, collected from <code class="docutils literal notranslate"><span class="pre">scipy/linalg/_basic.py</span></code>, is private.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scipy.linalg.det</span></code>, collected from <code class="docutils literal notranslate"><span class="pre">scipy/linalg/__init__.py</span></code>, is public.</p></li>
<li><p><em><code class="docutils literal notranslate"><span class="pre">pytest</span></code>’s assertion rewriting</em></p></li>
</ul>
<p>In some rare cases you may need to either explicitly register the <code class="docutils literal notranslate"><span class="pre">scipy_doctest</span></code>
package with the <code class="docutils literal notranslate"><span class="pre">pytest</span></code> assertion rewriting machinery, or ask it to avoid rewriting
completely, via <code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">--assert=plain</span></code>.
See <a class="reference external" href="https://docs.pytest.org/en/7.1.x/how-to/assert.html">the <code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">documentation</span></code></a>
for more details.</p>
<p>In general, rewriting assertions is not very useful for doctests, as the
output on error is fixed by the doctest machinery anyway. Therefore, we believe
adding <code class="docutils literal notranslate"><span class="pre">--assert=plain</span></code> is reasonable.</p>
</section>
<section id="prior-art-and-related-work">
<h2>Prior art and related work<a class="headerlink" href="#prior-art-and-related-work" title="Link to this heading">¶</a></h2>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">pytest</span></code> provides some limited floating-point aware <code class="docutils literal notranslate"><span class="pre">NumericLiteralChecker</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pytest-doctestplus</span></code> plugin from the <code class="docutils literal notranslate"><span class="pre">AstroPy</span></code> project has similar goals.
The package is well established and widely used. From a user perspective, main
differences are: (i) <code class="docutils literal notranslate"><span class="pre">pytest-doctestplus</span></code> is more sensitive to formatting,
including whitespace—thus if numpy tweaks its output formatting, doctests
may start failing; (ii) there is still a need for <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">doctest:</span> <span class="pre">+FLOAT_CMP</span></code>
directives.</p>
<p>This project takes a different approach: in addition to plugging into <code class="docutils literal notranslate"><span class="pre">pytest</span></code>,
we closely follow the <code class="docutils literal notranslate"><span class="pre">doctest</span></code> API and implementation, which are naturally
way more stable then <code class="docutils literal notranslate"><span class="pre">pytest</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">NumPy</span></code> and <code class="docutils literal notranslate"><span class="pre">SciPy</span></code> were using modified doctesting in their <code class="docutils literal notranslate"><span class="pre">refguide-check</span></code> utilities.
These utilities are tightly coupled to their libraries, and have been reported
to be not easy to reason about, work with, and extend to other projects.</p>
<p>This project is mainly the core functionality of the modified
<code class="docutils literal notranslate"><span class="pre">refguide-check</span></code> doctesting, extracted to a separate package.
We believe having it separate simplifies both addressing the needs of these
two packages, and potential adoption by other projects.</p>
</li>
</ul>
<section id="bug-reports-feature-requests-and-contributions">
<h3>Bug reports, feature requests and contributions<a class="headerlink" href="#bug-reports-feature-requests-and-contributions" title="Link to this heading">¶</a></h3>
<p>This package is work in progress. Contributions are most welcome!
Please don’t hesitate to open an issue in the tracker or send a pull request.</p>
<p>The current location of the issue tracker is <a class="reference external" href="https://github.com/scipy/scipy_doctest">https://github.com/scipy/scipy_doctest</a>.</p>
<div class="toctree-wrapper compound">
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="implementation.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Implementation</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Scipy Contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/scipy/scipy_doctest" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Floating-point aware, human readable, numpy-compatible doctesting.</a><ul>
<li><a class="reference internal" href="#tl-dr">TL;DR</a></li>
<li><a class="reference internal" href="#motivation-and-scope">Motivation and scope</a></li>
<li><a class="reference internal" href="#install-and-test">Install and test</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#run-doctests-via-pytest">Run doctests via pytest</a></li>
<li><a class="reference internal" href="#basic-usage">Basic usage</a></li>
<li><a class="reference internal" href="#command-line-interface">Command-line interface</a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-fine-grained-control">More fine-grained control</a><ul>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#alternative-checkers">Alternative Checkers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#numpy-and-scipy-wrappers">NumPy and SciPy wrappers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rough-edges-and-sharp-bits">Rough edges and sharp bits</a></li>
<li><a class="reference internal" href="#prior-art-and-related-work">Prior art and related work</a><ul>
<li><a class="reference internal" href="#bug-reports-feature-requests-and-contributions">Bug reports, feature requests and contributions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    </body>
</html>